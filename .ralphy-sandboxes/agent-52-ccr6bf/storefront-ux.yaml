tasks:
  - title: Build storefront landing page with hero, featured products, and categories
    description: Create /store/:slug public landing page. Hero banner with store
      logo/name/tagline from tenant settings. Featured products grid (top 8 by
      sales). Category cards linking to filtered views. Mobile-first responsive
      design. Clean modern cannabis dispensary aesthetic. No auth required.
    completed: true
  - title: Build storefront product catalog page with filters and search
    description: Create /store/:slug/menu page. Grid/list toggle view. Search bar
      with instant filter. Category sidebar filters. Strain type filters
      (indica/sativa/hybrid). Price range slider. Sort by
      price/name/popularity/newest. Product cards show image, name, strain,
      THC/CBD, price, quick-add button. Infinite scroll or pagination.
    completed: true
  - title: Build storefront product detail page
    description: Create /store/:slug/product/:id page. Large product image gallery.
      Name, strain type, THC/CBD percentages, description. Price with quantity
      selector. Add to cart button. Lab test results section if available.
      Related products carousel at bottom. Breadcrumb navigation back to menu.
    completed: true
  - title: Build storefront shopping cart with slide-out drawer
    description: Slide-out cart drawer from right side. Shows all cart items with
      image, name, quantity adjuster, price, remove button. Cart subtotal,
      delivery fee estimate, total. Minimum order notice if below threshold.
      Checkout button. Persistent cart state using localStorage. Cart icon in
      header with item count badge.
    completed: true
  - title: Build storefront checkout flow
    description: "Create /store/:slug/checkout page. Step 1: Contact info (name,
      phone, email). Step 2: Delivery address with validation. Step 3: Delivery
      time selection (ASAP or scheduled slots). Step 4: Order review and notes
      field. Step 5: Place order confirmation. Guest checkout - no account
      required. Order creates record in orders table with tenant_id."
  - title: Build storefront order confirmation page
    description: "Create /store/:slug/order/:id/confirmation page. Order number,
      estimated delivery time, items ordered summary, delivery address, contact
      info. Real-time status updates via Supabase realtime subscription. Status
      timeline: confirmed > preparing > out for delivery > delivered. Cancel
      order button if status is still confirmed."
  - title: Build storefront order tracking page
    description: Create /store/:slug/track page. Customer enters phone number or
      order ID to look up order. Shows current status with animated timeline.
      Driver name and ETA when assigned. Map showing driver location if
      available. Delivery proof photo when completed. No auth required - lookup
      by phone+orderID combo.
  - title: Build storefront header and navigation component
    description: Sticky header with store logo, store name, menu link, cart icon
      with badge. Mobile hamburger menu. Search icon that expands to search bar.
      Clean minimal design. Pulls branding from tenant settings (colors, logo).
      Works across all storefront pages.
  - title: Build storefront footer component
    description: Footer with store hours, delivery areas, contact info, social
      links. Powered by FloraIQ subtle branding. Legal disclaimer text. All data
      pulled from tenant settings. Responsive layout.
  - title: Build storefront age verification gate
    description: Full-screen age verification modal on first visit. Are you 21+?
      Yes/No buttons. Stores verification in localStorage so it only shows once.
      If No, redirects to google.com. Clean design with store branding. Must
      pass before any storefront content loads.
  - title: Build storefront store-not-found and closed states
    description: 404 page for invalid store slugs. Store closed page showing hours
      and when they reopen. Maintenance mode page. All branded with FloraIQ
      default styling. Checks tenant active status and operating hours.
  - title: Configure storefront public routing with tenant slug resolution
    description: Set up /store/:slug/* route group. Create useTenantBySlug hook that
      fetches tenant by slug from public tenants table. TenantStoreProvider
      context wraps all storefront pages with tenant data. 404 if slug not
      found. Loading skeleton while resolving. No auth required for any
      storefront route.
  - title: Build storefront theme engine from tenant settings
    description: Create StoreThemeProvider that reads tenant brand settings (primary
      color, accent color, logo URL, font preference). Applies CSS variables for
      theming. All storefront components use these variables. Default fallback
      theme if no settings. Preview in admin panel.
  - title: Configure storefront SEO and meta tags
    description: Dynamic meta tags per store page using react-helmet or equivalent.
      Store name in title. Product name and image for product pages. Open Graph
      tags for social sharing. Canonical URLs. Structured data for products
      (JSON-LD). Sitemap generation per tenant.
  - title: Build storefront PWA configuration for mobile install
    description: Add manifest.json per tenant with store name and colors. Service
      worker for offline product browsing. Add to home screen prompt. Splash
      screen with store logo. Cache product images and catalog for fast loading.
  - title: Build customer order history lookup
    description: Page at /store/:slug/orders where customer enters phone number.
      Shows all past orders for that phone. Order cards with date, items, total,
      status. Click to see full order details. Reorder button that adds same
      items to cart. No account needed.
  - title: Build customer delivery notifications system
    description: After order placed, customer gets SMS updates (via Twilio or
      similar stub). Order confirmed, driver assigned with name, driver nearby
      (1 min away), delivered with proof photo link. In-app notification bell on
      storefront showing order updates via Supabase realtime.
  - title: Build customer review and rating system
    description: After delivery completed, customer can rate 1-5 stars and leave
      text review. Review linked to order and products. Average rating shown on
      product cards. Review moderation in admin panel. Reviews displayed on
      product detail page.
  - title: Build storefront promotions and deals display
    description: Promotions banner carousel on landing page. Deal badges on product
      cards (% off, BOGO, bundle). Promo code input in cart/checkout. Discounts
      applied and shown in order total. Pulls from tenant promotions table.
  - title: Build storefront real-time inventory status
    description: Products show In Stock/Low Stock/Out of Stock badges. Out of stock
      items greyed out with notify me button. Low stock shows only X left
      urgency text. Real-time updates via Supabase subscription so stock changes
      reflect immediately without refresh.
  - title: Build driver login page
    description: Create /driver/login page. Phone number + PIN login (drivers dont
      use email). PIN sent via SMS on first setup. Remember device option. Clean
      mobile-first login screen. FloraIQ driver portal branding. After login,
      redirect to driver dashboard. JWT token stored for session.
  - title: Build driver registration and onboarding flow
    description: Create /driver/register page. Name, phone, email, vehicle type
      (car/bike/foot), vehicle details. Photo upload for profile. Agreement to
      terms checkbox. Admin must approve before driver can see deliveries.
      Pending approval screen after registration. Driver record created in
      delivery_runners table.
  - title: Build driver dashboard with available and active deliveries
    description: "Main driver screen after login. Two tabs: Available and My
      Deliveries. Available tab shows unclaimed deliveries nearby with pickup
      address, dropoff area, item count, estimated pay. My Deliveries tab shows
      claimed deliveries with status. Pull to refresh. Real-time updates via
      Supabase subscription."
  - title: Build driver delivery claim flow
    description: "Driver taps available delivery to see details: full pickup
      address, dropoff address, items list, customer notes, estimated
      distance/time. Claim Delivery button. Once claimed, status changes to
      assigned and other drivers cant see it. Confirmation screen with
      navigation button."
  - title: Build driver active delivery workflow screen
    description: "After claiming delivery, step-by-step workflow: Step 1 - Navigate
      to pickup (address + map link to Google Maps/Waze). Arrived at pickup
      button. Step 2 - Confirm pickup, verify items checklist. Step 3 - Navigate
      to dropoff. Step 4 - Complete delivery with proof. Each step updates order
      status in real-time."
  - title: Build driver delivery proof capture
    description: At delivery completion, driver must capture proof. Camera opens for
      photo of delivery at door. Optional signature capture canvas. Recipient
      name text field. Notes field. GPS location auto-captured. All saved to
      delivery_proofs table. Customer sees photo in their tracking page.
  - title: Build driver earnings and history page
    description: Create /driver/earnings page. Today's earnings summary. This week
      and this month totals. Delivery history list with date, addresses,
      earnings per delivery. Earnings chart over time. Payout information
      section. Filter by date range.
  - title: Build driver profile and settings page
    description: Create /driver/settings page. Edit name, phone, vehicle info.
      Profile photo update. Availability toggle (online/offline). Notification
      preferences. Delivery zone preferences. Change PIN. Logout button.
  - title: Build driver navigation integration
    description: One-tap navigation to pickup or dropoff address. Detect if Google
      Maps or Waze installed, offer choice. Deep link with full address.
      Fallback to in-app map with directions. Show estimated time and distance
      on delivery screen.
  - title: Build driver real-time location sharing
    description: When driver is on active delivery, share GPS location every 30
      seconds. Update delivery_runners table with current lat/lng. Customer
      tracking page shows driver position on map. Battery-efficient location
      tracking. Stop sharing when delivery completed.
  - title: Build driver push notification system
    description: New available delivery nearby notification. Delivery claimed by
      someone else notification. Customer cancelled order notification. Admin
      message notification. Use service worker push notifications for PWA. Sound
      alert for new deliveries.
  - title: Build driver multi-stop route view
    description: If driver has multiple active deliveries, show optimized route with
      all stops. Pickup and dropoff markers on map. Turn-by-turn stop order.
      Swipe to complete each stop. Progress indicator showing stops remaining.
  - title: Build admin storefront settings page
    description: Admin page to configure their storefront. Store name, slug,
      tagline, description. Logo and banner image upload. Brand colors picker
      (primary, accent, background). Operating hours per day. Delivery areas.
      Minimum order amount. Contact info. Live preview of storefront appearance.
  - title: Build admin storefront product management for menu
    description: Admin page to manage which products appear on storefront. Toggle
      product visibility. Set featured products. Reorder products within
      categories. Override prices for storefront vs wholesale. Product image
      upload and management. Bulk enable/disable.
  - title: Build admin driver management page
    description: Admin page listing all drivers. Approve/reject pending drivers.
      View driver status (online/offline/on delivery). Performance stats per
      driver (deliveries completed, avg time, rating). Deactivate driver. Send
      message to driver. Assign delivery to specific driver.
  - title: Build admin delivery monitoring dashboard
    description: Real-time map showing all active deliveries and driver positions.
      List of pending orders needing driver assignment. Auto-assign toggle.
      Delivery time alerts (late deliveries highlighted). Click delivery to see
      full details and timeline. Filter by status.
  - title: Build admin order management for storefront orders
    description: Admin page showing all storefront orders. Filter by status, date,
      customer. Order detail view with items, customer info, delivery info,
      timeline. Manual status update buttons. Cancel order with reason. Refund
      initiation. Print order slip. Export orders CSV.
  - title: Build admin customer management page
    description: Admin page listing customers by phone/email. Order history per
      customer. Total spend, order count, avg order value. Flag/block customer.
      Customer notes. Search and filter. No customer accounts needed -
      aggregated from order data by phone number.
  - title: Build admin promotions management
    description: "Admin page to create and manage promotions. Promo types:
      percentage off, fixed amount off, BOGO, free delivery. Set conditions
      (minimum order, specific products, date range). Generate promo codes.
      Track redemption count and revenue impact. Enable/disable promos."
  - title: Build admin storefront analytics dashboard
    description: Dashboard showing storefront performance. Orders per day chart.
      Revenue per day. Average order value. Top selling products. Conversion
      funnel (visits > add to cart > checkout > order). Customer retention rate.
      Peak ordering hours heatmap. Compare to previous period.
